{% extends 'store/layout/base.html' %} {% load static %} 
{% block titre %} Accueil {% endblock titre %} 
{% block content %}

<!-- shop wrapper -->
<div class="container items-start relative mt-4 mb-6">


    <!-- products -->
    <div class="col-span-3">
        <!-- sorting -->
        <div class="mb-4 w-full flex items-center justify-center gap-3">
            <button class="bg-primary border border-primary text-white px-10 py-3 font-medium rounded uppercase hover:bg-transparent hover:text-primary transition lg:hidden text-sm mr-3 focus:outline-none">
                Filter
                </button>
            <select class="w-44 text-sm text-gray-600 px-4 py-3 border-gray-300 shadow-sm rounded focus:ring-primary focus:border-primary">
                    <option>Derniers produits</option>
                    <option>A-Z</option>
                    <option>Populaire</option>
                    <option>Prix bas</option>
                    <option>Prix élévé</option>
                </select>
            <h3 class="text-lg text-gray-800 font-medium">Prix</h3>
            <div class="">
                <div class="flex items-center w-60">
                    <input type="text" class="w-full border-gray-300 focus:ring-0 focus:border-primary px-3 py-1 text-gray-600 text-sm shadow-sm rounded" placeholder="min">
                    <span class="mx-3 text-gray-500">-</span>
                    <input type="text" class="w-full border-gray-300 focus:ring-0 focus:border-primary px-3 py-1 text-gray-600 text-sm shadow-sm rounded" placeholder="max">
                </div>
            </div>
            <!-- price filter end -->
            <button class="block p-1 mx-2 text-center text-white bg-primary border border-primary rounded-b hover:bg-transparent hover:text-primary transition">
                    Appliquer
                </button>
        </div>
        <!-- sorting end -->
        <!-- product wrapper -->
        <div class="flex flex-wrap gap-4">
            {% for product in products %}
            <!-- single product -->
            <div class=" rounded bg-white shadow-lg border border-gray-400 w-64 p-3 hover:-translate-y-1 transition overflow-hidden">
                <!-- product image -->
                <a href="/categories/{{product.category.slug}}/{{product.slug}}" class="relative group">
                    <img src="{{product.image1.url}}" class="w-full h-52 pt-2 object-contain">
                    <h4 class="text-xl text-gray-800 font-poppins text-center p-2 w-full group-hover:text-orange-600 transition">
                        {{product.label}}
                    </h4>
                    
                </a>
                <p class="text-gray-800 font-poppins text-center px-1 w-full">
                    {% if product.stock > 0 %}
                    <span>En stock: </span>
                    <span class="text-green-600">{{product.stock}}</span> {% else %}
                    <span class="text-green-600">Stock épuisé</span> {% endif %}

                </p>
                <div class="flex items-end justify-between">
                    <p class="text-xl text-gray-800 font-poppins uppercase">{{product.price}} Fcfa</p>
                    <button @click="addToCart({{product.id}})" class="text-center text-white bg-green-600 border border-green-600 rounded-b p-1 transition group">
                        <svg class="group-hover:hidden h-6 w-6" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--carbon" width="32" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><circle cx="10" cy="28" r="2" fill="currentColor"></circle><circle cx="24" cy="28" r="2" fill="currentColor"></circle><path fill="currentColor" d="M28 7H5.82L5 2.8A1 1 0 0 0 4 2H0v2h3.18L7 23.2a1 1 0 0 0 1 .8h18v-2H8.82L8 18h18a1 1 0 0 0 1-.78l2-9A1 1 0 0 0 28 7Zm-2.8 9H7.62l-1.4-7h20.53Z"></path></svg>
                        <svg class="hidden group-hover:block h-6 w-6" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--carbon" width="32" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><circle cx="10" cy="28" r="2" fill="currentColor"></circle><circle cx="24" cy="28" r="2" fill="currentColor"></circle><path fill="currentColor" d="M4.98 2.804A1 1 0 0 0 4 2H0v2h3.18l3.84 19.196A1 1 0 0 0 8 24h18v-2H8.82l-.8-4H26a1 1 0 0 0 .976-.783L29.244 7h-2.047l-1.999 9H7.62Z"></path><path fill="currentColor" d="M18 6V2h-2v4h-4v2h4v4h2V8h4V6h-4z"></path></svg>
                    </button>
                </div>
                
                <!-- product button end -->
            </div>
            <!-- single product end -->
            {% empty %} Aucun produit {% endfor %}
        </div>
        <!-- product wrapper end -->
    </div>
    <!-- products end -->
</div>
<!-- shop wrapper end -->
{% endblock content %}