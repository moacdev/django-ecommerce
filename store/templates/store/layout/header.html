{% load static %}
<style>
    .cats_dropdown {
        display: none;
    }
    
    .cats_btn {
        background-color: #f46036;
        transition: all .15s ease;
    }
    
    .cats_btn:hover {
        background-color: #ea3e0d;
    }
    
    .cats_btn:hover:after {
        border-color: transparent transparent transparent #ea3e0d;
    }
    
    .cats_btn:hover .cats_dropdown {
        display: flex;
    }
    
    .cats_btn:after {
        -webkit-transition: border-color .15s ease;
        transition: all .15s ease;
        content: "";
        position: absolute;
        z-index: 1;
        right: -36px;
        top: 0;
        width: 0;
        height: 0;
        border-color: transparent transparent transparent #f46036;
        border-style: solid;
        border-width: 44px 0 0 37px;
    }
    
    .promo_btn {
        background-color: #f46036;
        transition: all .15s ease;
    }
    
    .promo_btn:hover {
        background-color: #ea3e0d;
    }
</style>



<header class="relative flex flex-col z-10 border-b mb-8 bg-neutral-700 w-full">
    <div class="box-border md:w-4/5 flex mx-auto items-center h-28 py-4 px-4 sm:px-8 md:px-10 ">
        <a href="/" class="h-full flex items-center p-4 text-white ">
            <svg xmlns="http://www.w3.org/2000/svg" class="fill-current h-12 w-12 m-1" enable-background="new 0 0 24 24" height="24px" viewBox="0 0 24 24" width="24px" fill="#000000"><g><rect fill="none" height="24" width="24"/></g><g><g/><g><path d="M21.9,8.89l-1.05-4.37c-0.22-0.9-1-1.52-1.91-1.52H5.05C4.15,3,3.36,3.63,3.15,4.52L2.1,8.89 c-0.24,1.02-0.02,2.06,0.62,2.88C2.8,11.88,2.91,11.96,3,12.06V19c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2v-6.94 c0.09-0.09,0.2-0.18,0.28-0.28C21.92,10.96,22.15,9.91,21.9,8.89z M18.91,4.99l1.05,4.37c0.1,0.42,0.01,0.84-0.25,1.17 C19.57,10.71,19.27,11,18.77,11c-0.61,0-1.14-0.49-1.21-1.14L16.98,5L18.91,4.99z M13,5h1.96l0.54,4.52 c0.05,0.39-0.07,0.78-0.33,1.07C14.95,10.85,14.63,11,14.22,11C13.55,11,13,10.41,13,9.69V5z M8.49,9.52L9.04,5H11v4.69 C11,10.41,10.45,11,9.71,11c-0.34,0-0.65-0.15-0.89-0.41C8.57,10.3,8.45,9.91,8.49,9.52z M4.04,9.36L5.05,5h1.97L6.44,9.86 C6.36,10.51,5.84,11,5.23,11c-0.49,0-0.8-0.29-0.93-0.47C4.03,10.21,3.94,9.78,4.04,9.36z M5,19v-6.03C5.08,12.98,5.15,13,5.23,13 c0.87,0,1.66-0.36,2.24-0.95c0.6,0.6,1.4,0.95,2.31,0.95c0.87,0,1.65-0.36,2.23-0.93c0.59,0.57,1.39,0.93,2.29,0.93 c0.84,0,1.64-0.35,2.24-0.95c0.58,0.59,1.37,0.95,2.24,0.95c0.08,0,0.15-0.02,0.23-0.03V19H5z"/></g></g></svg>
            <span class="text-3xl">eDjango</span>
        </a>
        <div class="bg-transparent flex border border-gray-400 hover:border-gray-800 transition h-12 max-w-2xl overflow-hidden text-2xl mx-2 md:mx-6 relative w-full">
            <div class="w-full h-full flex relative">
                <select class="h-full border-0 w-40 bg-gray-300" name="search_cat">
                    <option value="0">Par Catégories</option>
                    {% for category in categories %}
                        <option value="{{category.slug}}" class="text-ellipsis">{{category.label}}</option>
                    {% endfor %}
                </select>
                <input type="text" class="outline-none w-full h-full bg-gray-50 border-0 placeholder:italic" placeholder="Rechercher un produit">
            </div>
            <button class="rounded-l-none flex items-center justify-center p-0 text-white w-20 bg-gray-50">
                <svg class="fill-current text-black" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--ri" width="32" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M11 2c4.968 0 9 4.032 9 9s-4.032 9-9 9s-9-4.032-9-9s4.032-9 9-9zm0 16c3.867 0 7-3.133 7-7c0-3.868-3.133-7-7-7c-3.868 0-7 3.132-7 7c0 3.867 3.132 7 7 7zm8.485.071l2.829 2.828l-1.415 1.415l-2.828-2.829l1.414-1.414z"></path></svg>
            </button>
        </div>
        <div class="flex ml-auto">
            <a href="{% if user.id != None %}/liste-de-souhait{% else %}/connexion{% endif %}" class="p-3 flex flex-col gap-2 items-center justify-center text-gray-300 hover:text-white transition">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8 fill-current" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--ion" width="32" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 512 512"><path d="M349.6 64c-36.4 0-70.718 16.742-93.6 43.947C233.117 80.742 198.8 64 162.4 64 97.918 64 48 114.221 48 179.095c0 79.516 70.718 143.348 177.836 241.694L256 448l30.164-27.211C393.281 322.442 464 258.61 464 179.095 464 114.221 414.082 64 349.6 64zm-80.764 329.257l-4.219 3.873-8.617 7.773-8.616-7.772-4.214-3.869c-50.418-46.282-93.961-86.254-122.746-121.994C92.467 236.555 80 208.128 80 179.095c0-22.865 8.422-43.931 23.715-59.316C118.957 104.445 139.798 96 162.4 96c26.134 0 51.97 12.167 69.11 32.545L256 157.661l24.489-29.116C297.63 108.167 323.465 96 349.6 96c22.603 0 43.443 8.445 58.686 23.778C423.578 135.164 432 156.229 432 179.095c0 29.033-12.467 57.459-40.422 92.171-28.784 35.74-72.325 75.709-122.742 121.991z" fill="currentColor"></path></svg>
                <span class="text-sm uppercase font-poppins">Souhaits</span>
            </a>
            
            <a href="{% if user.id != None %}/mon-compte{% else %}/connexion{% endif %}" class="p-3 flex flex-col gap-2 items-center justify-center text-gray-300 hover:text-white transition">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8 fill-current" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--ph" width="32" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 256"><path fill="currentColor" d="M231.9 212a120.7 120.7 0 0 0-67.1-54.2a72 72 0 1 0-73.6 0A120.7 120.7 0 0 0 24.1 212a8 8 0 1 0 13.8 8a104.1 104.1 0 0 1 180.2 0a8 8 0 1 0 13.8-8ZM72 96a56 56 0 1 1 56 56a56 56 0 0 1-56-56Z"></path></svg>
                <span class="text-sm uppercase font-poppins">Compte</span>
            </a>
            <{% if user.id != None %}button @click="toggleSideCart()" {% else %}a href="/connexion" {% endif %} class="p-3 flex flex-col gap-2 items-center justify-center text-gray-300 hover:text-white transition">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8 fill-current" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--ion" width="32" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 512 512"><path d="M160 400c-13.248 0-24 10.752-24 24s10.752 24 24 24 24-10.752 24-24-10.752-24-24-24zm0 32c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z" fill="currentColor"></path><path d="M384.5 400c-13.248 0-24 10.752-24 24s10.752 24 24 24 24-10.752 24-24-10.752-24-24-24zm0 32c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z" fill="currentColor"></path><path d="M448 128L123.177 95.646c-1.628-6.972-4.369-14.66-11.838-20.667C102.025 67.489 86.982 64 64 64v16.001c18.614 0 31.167 2.506 37.312 7.447 4.458 3.585 5.644 8.423 7.165 15.989l-.024.004 42.052 233.638c2.413 14.422 7.194 25.209 13.291 32.986C171.043 379.312 180.533 384 192 384h240v-16H192c-4.727 0-19.136.123-25.749-33.755l-5.429-30.16L432 256l16-128zm-29.41 114.348l-260.601 45.99-31.732-176.3 303.869 30.608-11.536 99.702z" fill="currentColor"></path></svg>
                <span class="text-sm uppercase font-poppins">Panier</span>
            </{% if user.id != None %}button{% else %}a{% endif %}>
        </div>
    </div>
    <div class="absolute bg-transparent w-full max-w-4xl left-1/2 -translate-x-1/2 top-24 flex">
        <button class="relative cats_btn flex items-center py-1 px-2 text-white">
            <span class="text-sm md:text-lg mx-2">Parcourir les catégories</span>
            <svg class="w-4 fill-current md:w-6 h-4 md:h-6" aria-hidden="true" focusable="false" data-prefix="fal" data-icon="chevron-down" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg=""><path fill="currentColor" d="M443.5 162.6l-7.1-7.1c-4.7-4.7-12.3-4.7-17 0L224 351 28.5 155.5c-4.7-4.7-12.3-4.7-17 0l-7.1 7.1c-4.7 4.7-4.7 12.3 0 17l211 211.1c4.7 4.7 12.3 4.7 17 0l211-211.1c4.8-4.7 4.8-12.3.1-17z"></path></svg>
            <div class="absolute cats_dropdown z-20 shadow-lg top-full left-0 flex-col bg-white border w-80">
                <ul>
                    {% for category in categories %}
                        <li class="flex">
                            <a href="/categories/{{category.slug}}" class="w-full flex py-2 px-4 text-left hover:bg-gray-300 text-black">
                                <img src="{{category.image.url}}" class="h-6 w-6 mr-3" alt="{{category.label}}" title="{{category.label}}">
                                <span>{{category.label}}</span>
                            </a>
                        </li>
                    {% endfor %}
                </ul>
            </div>
        </button>
        <a href="/" class="box-border hidden md:flex items-center self-auto justify-center flex-grow min-w-0 transition text-white bg-neutral-800 pl-9 pr-3 py-2 hover:bg-gray-500">

            <svg class="w-4 md:w-6 h-4 md:h-6 text-white fill-current" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--ion" width="32" height="32" preserveAspectRatio="xMidYMid meet"
                viewBox="0 0 512 512"><path fill="currentColor" d="M261.56 101.28a8 8 0 0 0-11.06 0L66.4 277.15a8 8 0 0 0-2.47 5.79L63.9 448a32 32 0 0 0 32 32H192a16 16 0 0 0 16-16V328a8 8 0 0 1 8-8h80a8 8 0 0 1 8 8v136a16 16 0 0 0 16 16h96.06a32 32 0 0 0 32-32V282.94a8 8 0 0 0-2.47-5.79Z"></path><path fill="currentColor" d="m490.91 244.15l-74.8-71.56V64a16 16 0 0 0-16-16h-48a16 16 0 0 0-16 16v32l-57.92-55.38C272.77 35.14 264.71 32 256 32c-8.68 0-16.72 3.14-22.14 8.63l-212.7 203.5c-6.22 6-7 15.87-1.34 22.37A16 16 0 0 0 43 267.56L250.5 69.28a8 8 0 0 1 11.06 0l207.52 198.28a16 16 0 0 0 22.59-.44c6.14-6.36 5.63-16.86-.76-22.97Z"></path></svg>
            <span class="text-sm md:text-lg mx-2">Accueil</span>
        </a>
        <a href="/faq" class="box-border hidden md:flex items-center self-auto justify-center flex-grow min-w-0 transition text-white bg-neutral-800 px-3 py-2 hover:bg-gray-500">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-4 md:w-6 h-4 md:h-6 text-white fill-current" height="24px" viewBox="0 0 24 24" width="24px" fill="#000000"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"/></svg>
            <span class="text-sm md:text-lg mx-2">FAQ</span>
        </a>
        
        <a href="{% if user.id != None %}/mes-commandes{% else %}/connexion{% endif %}" class="box-border hidden md:flex items-center self-auto justify-center flex-grow min-w-0 transition text-white bg-neutral-800 px-3 py-2 hover:bg-gray-500">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-4 md:w-6 h-4 md:h-6 text-white  fill-current" height="24px" viewBox="0 0 24 24" width="24px" fill="#000000"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M20 8h-3V4H3c-1.1 0-2 .9-2 2v11h2c0 1.66 1.34 3 3 3s3-1.34 3-3h6c0 1.66 1.34 3 3 3s3-1.34 3-3h2v-5l-3-4zm-.5 1.5l1.96 2.5H17V9.5h2.5zM6 18c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm2.22-3c-.55-.61-1.33-1-2.22-1s-1.67.39-2.22 1H3V6h12v9H8.22zM18 18c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"/></svg>
            <span class="text-sm md:text-lg mx-2">Mes commandes</span>
        </a>
        

        <button class="flex items-center py-1 px-2 text-white promo_btn ml-2">
            <span class="text-sm md:text-lg mx-2">Promo & Bonplans</span>
            <svg class="w-4 fill-current md:w-6 h-4 md:h-6" aria-hidden="true" focusable="false" data-prefix="fal" data-icon="chevron-down" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg=""><path fill="currentColor" d="M443.5 162.6l-7.1-7.1c-4.7-4.7-12.3-4.7-17 0L224 351 28.5 155.5c-4.7-4.7-12.3-4.7-17 0l-7.1 7.1c-4.7 4.7-4.7 12.3 0 17l211 211.1c4.7 4.7 12.3 4.7 17 0l211-211.1c4.8-4.7 4.8-12.3.1-17z"></path></svg>
        </button>


    </div>

    <div x-show="sideCart" class="fixed w-full z-30 inset-0 overflow-hidden" aria-labelledby="slide-over-title" role="dialog" aria-modal="true" x-cloak>
        <div class="absolute inset-0 overflow-hidden">
            <!--
            Background overlay, show/hide based on slide-over state.
      
            Entering: "ease-in-out duration-500"
              From: "opacity-0"
              To: "opacity-100"
            Leaving: "ease-in-out duration-500"
              From: "opacity-100"
              To: "opacity-0"
          -->
            <div @click="toggleSideCart()" class="absolute inset-0 bg-gray-500 bg-opacity-75 transition-opacity" aria-hidden="true"></div>

            <div class="pointer-events-none fixed inset-y-0 right-0 flex max-w-md w-full pl-10">
                <!--
              Slide-over panel, show/hide based on slide-over state.
      
              Entering: "transform transition ease-in-out duration-500 sm:duration-700"
                From: "translate-x-full"
                To: "translate-x-0"
              Leaving: "transform transition ease-in-out duration-500 sm:duration-700"
                From: "translate-x-0"
                To: "translate-x-full"
            -->
                <div class="pointer-events-auto w-screen max-w-md">
                    <div class="flex h-full flex-col bg-white shadow-xl">
                        <div class="flex-1 py-6">
                            <div class="flex items-start justify-between">
                                <h2 class="text-lg font-medium text-gray-900 px-4 sm:px-6" id="slide-over-title">Votre panier</h2>
                                <div class="ml-3 flex h-7 items-center">
                                    <button @click="toggleSideCart()" type="button" class="-m-2 p-2 text-gray-400 hover:text-gray-500">
                                        <span class="sr-only">Fermer</span>
                                        <!-- Heroicon name: outline/x -->
                                        <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                                        </svg>
                                    </button>
                                </div>
                            </div>

                            <div class="mt-8">
                                <div class="flow-root">
                                    <div class="hidden" x-ref="csrfmiddlewaretokenContainer">{% csrf_token %}</div>

                                    <ul x-show="cart.length > 0 && !cartLoading" role="list" class="-my-6 divide-y divide-gray-200 flex flex-col">
                                        <template x-for="(_cart, cartIndex) in cart" :key="cartIndex">
                                            <li class="flex py-6 bg-neutral-300  px-4 sm:px-6">
                                                <div class="h-16 w-24 flex-shrink-0 overflow-hidden rounded-md border border-gray-200">
                                                    <img :src="_cart.product.image1" :alt="_cart.product.label" class="h-full w-full object-cover object-center">
                                                </div>

                                                <div class="ml-4 flex flex-1 flex-col">
                                                    <div>
                                                        <div class="flex justify-between text-base font-medium text-gray-900">
                                                            <h3>
                                                                <span x-text="_cart.product.label"></span>
                                                            </h3>
                                                            <p class="ml-4 font-mono"><span x-text="_cart.product.price"></span> Fcfa</p>
                                                        </div>
                                                        <!-- <p class="mt-1 text-sm text-gray-500">Salmon</p> -->
                                                    </div>
                                                    <div class="flex flex-1 items-end justify-between text-sm">
                                                        <p class="text-gray-500">Qt: <span x-text="_cart.quantity"></span></p>

                                                        <div class="flex">
                                                            <button type="button" class="font-medium text-indigo-600 hover:text-indigo-500">Enlever</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </li>
                                        </template>

                                        <!-- More products... -->
                                    </ul>
                                    <span class="m-auto flex text-center" x-show="cart.length < 1 && !cartLoading">Aucun produit dans le panier</span>
                                    <svg x-show="cartLoading" class="h-6 w-10 m-auto flex fill-current text-gray-800" viewBox="0 0 135 140" xmlns="http://www.w3.org/2000/svg" fill="#fff">
                                        <rect y="10" width="15" height="120" rx="6">
                                            <animate attributeName="height"
                                                 begin="0.5s" dur="1s"
                                                 values="120;110;100;90;80;70;60;50;40;140;120" calcMode="linear"
                                                 repeatCount="indefinite" />
                                            <animate attributeName="y"
                                                 begin="0.5s" dur="1s"
                                                 values="10;15;20;25;30;35;40;45;50;0;10" calcMode="linear"
                                                 repeatCount="indefinite" />
                                        </rect>
                                        <rect x="30" y="10" width="15" height="120" rx="6">
                                            <animate attributeName="height"
                                                 begin="0.25s" dur="1s"
                                                 values="120;110;100;90;80;70;60;50;40;140;120" calcMode="linear"
                                                 repeatCount="indefinite" />
                                            <animate attributeName="y"
                                                 begin="0.25s" dur="1s"
                                                 values="10;15;20;25;30;35;40;45;50;0;10" calcMode="linear"
                                                 repeatCount="indefinite" />
                                        </rect>
                                        <rect x="60" width="15" height="140" rx="6">
                                            <animate attributeName="height"
                                                 begin="0s" dur="1s"
                                                 values="120;110;100;90;80;70;60;50;40;140;120" calcMode="linear"
                                                 repeatCount="indefinite" />
                                            <animate attributeName="y"
                                                 begin="0s" dur="1s"
                                                 values="10;15;20;25;30;35;40;45;50;0;10" calcMode="linear"
                                                 repeatCount="indefinite" />
                                        </rect>
                                        <rect x="90" y="10" width="15" height="120" rx="6">
                                            <animate attributeName="height"
                                                 begin="0.25s" dur="1s"
                                                 values="120;110;100;90;80;70;60;50;40;140;120" calcMode="linear"
                                                 repeatCount="indefinite" />
                                            <animate attributeName="y"
                                                 begin="0.25s" dur="1s"
                                                 values="10;15;20;25;30;35;40;45;50;0;10" calcMode="linear"
                                                 repeatCount="indefinite" />
                                        </rect>
                                        <rect x="120" y="10" width="15" height="120" rx="6">
                                            <animate attributeName="height"
                                                 begin="0.5s" dur="1s"
                                                 values="120;110;100;90;80;70;60;50;40;140;120" calcMode="linear"
                                                 repeatCount="indefinite" />
                                            <animate attributeName="y"
                                                 begin="0.5s" dur="1s"
                                                 values="10;15;20;25;30;35;40;45;50;0;10" calcMode="linear"
                                                 repeatCount="indefinite" />
                                        </rect>
                                    </svg>
                                </div>
                            </div>
                        </div>

                        <div x-show="cart.length > 0" class="border-t border-gray-200 py-6 px-4 sm:px-6">
                            <div class="flex justify-between text-base font-medium text-gray-900">
                                <p>Total</p>
                                <p><span x-text="cartSum"></span> Fcfa</p>
                            </div>
                            <!-- <p class="mt-0.5 text-sm text-gray-500">Shipping and taxes calculated at checkout.</p> -->
                            <div class="mt-6">
                                <a href="/commande-validation" class="flex items-center justify-center rounded-md border border-transparent bg-indigo-600 px-6 py-3 text-base font-medium text-white shadow-sm hover:bg-indigo-700">Passer la commander</a>
                            </div>

                        </div>
                        <div class="my-6 flex justify-center text-center text-sm text-gray-500">
                            <a href="/mon-panier" type="button" class="font-medium text-indigo-600 hover:text-indigo-500">Tout voir<span aria-hidden="true"> &rarr;</span></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>
<script defer>
    function header() {
        return {

        }
    }
</script>